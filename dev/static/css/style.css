/*
====================================
1. CSS Custom Properties (Variablen)
====================================
Definiert die Farbpalette, Schriftgrößen, Abstände, Schatten und Radii
für ein konsistentes Dark-Theme.
*/
:root {
    --bg: #0b0f14;
    /* Haupt-Hintergrundfarbe (sehr dunkel) */
    --panel: #121826;
    /* Hintergrundfarbe für Container/Panels */
    --muted: #708399;
    /* Gedämpfte Textfarbe für Hilfstexte */
    --text: #e6eef8;
    /* Haupt-Textfarbe (hell) */
    --brand: #4cc9f0;
    /* Akzentfarbe 1 (helles Cyan/Blau) */
    --brand-2: #80ffdb;
    /* Akzentfarbe 2 (helles Türkis/Grün) */
    --ok: #22c55e;
    /* Farbe für positive/OK-Zustände */
    --bad: #ef4444;
    /* Farbe für negative/Fehler-Zustände */
    --warn: #f59e0b;
    /* Farbe für Warnungen */
    --chip: #1b2335;
    /* Hintergrundfarbe für kleine Elemente (Chips/Badges) */
    /* Box-Shadow für den Fokus-Ring (Focus-Visible) */
    --ring: 0 0 0 2px rgba(76, 201, 240, .35);
    --radius: 16px;
    /* Standard-Eckenradius für Panels */
    --shadow: 0 8px 28px rgba(0, 0, 0, .35);
    /* Schatten für Panels */
}

/*
====================================
2. Allgemeine Reset- und Basis-Styles
====================================
*/
* {
    /* Wichtig: Stellt sicher, dass Padding und Border zur Gesamtbreite gehören */
    box-sizing: border-box;
}

html,
body {
    height: 100%;
    /* Wichtig für full-height Layouts */
}

body {
    margin: 0;
    /* Festlegen der Schriftart, Größe und Linienhöhe */
    font: 500 16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    /* Komplexer Hintergrund mit radialem Gradient für einen "Glüheffekt" */
    background: radial-gradient(1200px 800px at 10% 0%, #0f1522 0%, var(--bg) 55%), var(--bg);
    color: var(--text);
}

img {
    max-width: 100%;
    /* Responsive Bilder */
    display: block;
    /* Entfernt den 'inline'-Whitespace unter Bildern */
}

a {
    color: var(--brand);
    text-decoration: none;
}

a:focus-visible,
button:focus-visible {
    /* Definiert einen sichtbaren Fokus-Indikator nur bei Tastatur-Navigation */
    outline: none;
    box-shadow: var(--ring);
    border-radius: 12px;
}

/*
====================================
3. Layout-Container
====================================
*/
.wrap {
    height: 100vh;
    margin: 0 auto;
    /* Zentriert den Container */
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/*
====================================
4. Header / Appbar
====================================
*/
header {
    order: 1;
}

header.appbar {
    /* Kombinierter Verlauf und Rand für einen leichten, futuristischen Look */
    background: linear-gradient(180deg, rgba(128, 255, 219, .14), rgba(76, 201, 240, .06));
    border: 1px solid rgba(128, 255, 219, .18);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 16px 18px;
    display: grid;
    gap: 8px;
}

.toprow {
    display: flex;
    /* Flex-Layout für Logo und Navigation/Buttons */
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    /* Erlaubt das Umbrechen auf kleineren Bildschirmen */
}

.brand {
    display: flex;
    align-items: center;
    gap: 12px;
}

.brand .logo {
    width: 38px;
    height: 38px;
    border-radius: 12px;
    /* Konischer Farbverlauf für einen stylischen Logo-Effekt */
    background: conic-gradient(from 180deg, var(--brand) 0 30%, var(--brand-2) 30% 60%, #a78bfa 60% 85%, #60a5fa 85% 100%);
    /* Innerer Rand und Schatten für Tiefe */
    box-shadow: inset 0 0 0 2px rgba(255, 255, 255, .12), 0 4px 12px rgba(76, 201, 240, .35);
}

.brand h1 {
    margin: 0;
    font-size: 18px;
    letter-spacing: .2px;
}

.tagline {
    color: var(--muted);
    font-size: 13px;
}

.kpis {
    /* Key Performance Indicators: Standard 2 Spalten, wird später 4 */
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 10px;
}

.chip {
    background: var(--chip);
    border: 1px solid rgba(255, 255, 255, .06);
    border-radius: 14px;
    padding: 10px 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.chip b {
    font-size: 18px;
}

.status-dot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
}

/*
====================================
5. Haupt-Grid und Panels
====================================
*/
main {
    order: 0;
}

.mcontent {
    flex: 1 1 auto;
    min-height: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.panel {
    background: var(--panel);
    border: 1px solid rgba(255, 255, 255, .08);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 14px;

    height: 100%;
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
}

.panel h2 {
    margin: 4px 0 10px;
    font-size: 16px;
    font-weight: 600;
    opacity: .95;
    /* Leichte Dämpfung des Titels */
}

.subtle {
    color: var(--muted);
    font-size: 13px;
}

/*
====================================
6. Kartenansicht (Map Shell)
====================================
*/
.map-shell {
    position: relative;
    border-radius: calc(var(--radius) - 2px);
    overflow: hidden;

    flex: 1 1 auto;
    min-height: 0;
    width: 100%;
    max-height: 100%;

    /* Hintergrund mit Licht-Glow-Effekt */
    background: radial-gradient(1200px 600px at 60% -20%, rgba(76, 201, 240, .15) 0, rgba(76, 201, 240, 0) 60%), linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .02)), #0e1624;
    display: grid;
    place-items: center;
    /* Zentriert den Inhalt (z.B. den "hint") */
}

.map-shell .hint {
    text-align: center;
    color: var(--muted);
}

.legend {
    position: absolute;
    /* Positioniert die Legende über der Karte */
    right: 10px;
    bottom: 10px;
    display: grid;
    gap: 6px;
    /* Transparenter Hintergrund mit Blur-Effekt */
    background: rgba(3, 7, 18, .65);
    border: 1px solid rgba(255, 255, 255, .08);
    backdrop-filter: blur(8px);
    border-radius: 12px;
    padding: 8px 10px;
    font-size: 13px;
}

.legend .row {
    display: flex;
    align-items: center;
    gap: 8px;
}

/*
====================================
7. Badges (Status-Indikatoren)
====================================
*/
.badge {
    padding: 4px 8px;
    border-radius: 999px;
    /* Pillenform */
    font-size: 12px;
    font-weight: 600;
}

/* Definierte Farb-Styles für die verschiedenen Status */
.badge.available {
    background: rgba(34, 197, 94, .12);
    color: #86efac;
    border: 1px solid rgba(34, 197, 94, .25);
}

.badge.occupied {
    background: rgba(239, 68, 68, .12);
    color: #fca5a5;
    border: 1px solid rgba(239, 68, 68, .25);
}

.badge.unknown {
    background: rgba(245, 158, 11, .12);
    color: #fcd34d;
    border: 1px solid rgba(245, 158, 11, .25);
}

/*
====================================
9. Footer
====================================
*/
footer {
    order: 2;
    color: var(--muted);
    font-size: 13px;
    text-align: center;
    padding-bottom: 8px;
}

/*
====================================
11. Media Queries (Desktop-Layout)
====================================
*/
@media (min-width: 900px) {
    header {
        order: 0;
    }

    .mcontent {
        order: 1;
    }

    .kpis {
        /* Ab 900px Breite: 4 Spalten für KPIs */
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}